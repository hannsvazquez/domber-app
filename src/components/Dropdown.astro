---
const { label, options } = Astro.props;
---
<div x-data="{ open: false }" class="relative w-full">
  <button
    type="button"
    class="w-full flex items-center justify-between px-6 py-4 bg-white rounded-2xl shadow text-lg font-bold text-gray-500 focus:outline-none"
    @click="open = !open"
    :aria-expanded="open"
  >
    {label}
    <svg class="w-5 h-5 ml-2 text-gray-400 transition-transform duration-200" :class="{ 'rotate-180': open }" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </button>
  <ul
    x-show="open"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 -translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-2"
    class="absolute left-0 right-0 mt-2 bg-white rounded-2xl shadow-lg z-10"
    @click.away="open = false"
    style="display: none;"
  >
    {options && options.map(option => (
      <li class="px-6 py-3 hover:bg-gray-100 cursor-pointer text-gray-700 text-base" tabindex="0">{option}</li>
    ))}
  </ul>
</div>
